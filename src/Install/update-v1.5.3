<?php

return [
  'fileCopy' => [
  ],
  'fileDelete' => [
    'src/Command/NotificaInviaCommand.php',
    'src/Command/NotificaPreparaCommand.php',
    'src/Entity/Notifica.php',
    'src/Entity/NotificaInvio.php',
    'src/Repository/NotificaRepository.php',
    'src/Repository/NotificaInvioRepository.php',
    'src/Install/Installer.php',
    'public/install/index.php',
    'public/install/index.txt',
    'public/install/page_admin.php',
    'public/install/page_authenticate.php',
    'public/install/page_database.php',
    'public/install/page_error.php',
    'public/install/page_footer.php',
    'public/install/page_header.php',
    'public/install/page_install.php',
    'public/install/page_message.php',
    'public/install/page_requirements.php',
    'public/install/page_spid_config.php',
    'public/install/page_spid_data.php',
    'public/install/page_spid.php',
    'public/install/page_update.php',
    'public/install/app.php',
  ],
  'sqlCommand' => [
    ["UPDATE gs_utente SET notifica='a:2:{s:4:\"tipo\";s:5:\"email\";s:9:\"abilitato\";a:2:{i:0;s:6:\"avviso\";i:1;s:9:\"circolare\";}}' WHERE notifica IS NULL OR notifica='a:0:{}';", ""],
    ["UPDATE gs_utente SET rappresentante='' WHERE rappresentante IS NULL OR rappresentante='a:0:{}';", ""],
    ["DROP TABLE IF EXISTS gs_notifica;", ""],
    ["DROP TABLE IF EXISTS gs_notifica_invio;", ""],
    ["UPDATE gs_configurazione SET valore='17:00',descrizione='Ora di inizio notifica giornaliera delle nuove circolari\<br>[ora in formato HH:MM]' WHERE parametro='notifica_circolari';", ""],
    ["CREATE TABLE gs_presenza (id INT AUTO_INCREMENT NOT NULL, alunno_id INT NOT NULL, creato DATETIME NOT NULL, modificato DATETIME NOT NULL, data DATE NOT NULL, ora_inizio TIME DEFAULT NULL, ora_fine TIME DEFAULT NULL, tipo VARCHAR(1) NOT NULL, descrizione VARCHAR(255) NOT NULL, INDEX IDX_32C5F7A67ABC9740 (alunno_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE `utf8_unicode_ci` ENGINE = InnoDB;", "SELECT 1 FROM dual UNION SELECT 1 FROM gs_presenza;"],
    ["ALTER TABLE gs_presenza ADD CONSTRAINT FK_32C5F7A67ABC9740 FOREIGN KEY (alunno_id) REFERENCES gs_utente (id);", "SELECT 1 FROM DUAL WHERE NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS WHERE TABLE_NAME = 'gs_presenza' AND REFERENCED_TABLE_NAME = 'gs_utente');"],
    ["INSERT INTO gs_configurazione (creato, modificato, categoria, parametro, descrizione, valore, gestito) VALUES (NOW(), NOW(), 'SISTEMA', 'versione_build', 'Numero di build dell\'applicazione<br>[testo]', '0', 1);", "SELECT * FROM gs_configurazione WHERE parametro='versione_build';"],
    ["ALTER TABLE gs_messenger_messages CHANGE id id BIGINT AUTO_INCREMENT NOT NULL, ADD PRIMARY KEY (id);", "SELECT 1 FROM DUAL WHERE NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE CONSTRAINT_TYPE = 'PRIMARY KEY' AND TABLE_NAME = 'gs_messenger_messages');"],
    ["INSERT INTO gs_configurazione (creato, modificato, categoria, parametro, descrizione, valore, gestito) VALUES (NOW(), NOW(), 'SISTEMA', 'telegram_bot', 'Indica il nome del bot Telegram usato per l\'invio delle notifiche\<br>[testo]', '', 1);", "SELECT * FROM gs_configurazione WHERE parametro='telegram_bot';"],
    ["INSERT INTO gs_configurazione (creato, modificato, categoria, parametro, descrizione, valore, gestito) VALUES (NOW(), NOW(), 'SISTEMA', 'telegram_token', 'Indica il token del bot Telegram usato per l\'invio delle notifiche\<br>[testo]', '', 1);", "SELECT * FROM gs_configurazione WHERE parametro='telegram_token';"],
    ["INSERT INTO gs_configurazione (creato, modificato, categoria, parametro, descrizione, valore, gestito) VALUES (NOW(), NOW(), 'SISTEMA', 'telegram_secret', 'Indica il codice segreto usato dal bot Telegram per l\'esecuzione della procedura di registrazione\<br>[testo]', '', 1);", "SELECT * FROM gs_configurazione WHERE parametro='telegram_secret';"],
    ["INSERT INTO gs_configurazione (creato, modificato, categoria, parametro, descrizione, valore, gestito) VALUES (NOW(), NOW(), 'SISTEMA', 'comando_token', 'Indica il codice segreto usato per l\'esecuzione di un comando tramite URL\<br>[testo]', '', 0);", "SELECT * FROM gs_configurazione WHERE parametro='comando_token';"],
    ["DELETE FROM gs_menu_opzione;", ""],
    ["DELETE FROM gs_menu;", ""],
    ["INSERT INTO gs_menu (id, creato, modificato, selettore, nome, descrizione, mega) VALUES (1,'2023-03-16 13:28:10','2023-03-16 13:28:10','help','Aiuto','Guida e supporto per l\'utente',0),(2,'2023-03-16 13:28:10','2023-03-16 13:28:10','user','Utente','Gestione del profilo dell\'utente',0),(3,'2023-03-16 13:28:10','2023-03-16 13:28:10','info','Informazioni','Informazioni sull\'applicazione',0),(4,'2023-03-16 13:28:10','2023-03-16 13:28:10','main','Menu Principale','Apri il menu principale',0),(5,'2023-03-16 13:28:10','2023-03-16 13:28:10','sistema','','',0),(6,'2023-03-16 13:28:10','2023-03-16 13:28:10','scuola','','',0),(7,'2023-03-16 13:28:10','2023-03-16 13:28:10','ata','','',0),(8,'2023-03-16 13:28:10','2023-03-16 13:28:10','docenti','','',0),(9,'2023-03-16 13:28:10','2023-03-16 13:28:10','alunni','','',0);", ""],
    ["INSERT INTO gs_menu_opzione (id, menu_id, sotto_menu_id, creato, modificato, ruolo, funzione, nome, descrizione, url, ordinamento, abilitato, icona) VALUES (1,1,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Manuale','Scarica il manuale d\'uso dell\'applicazione','',2,0,''),(2,2,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','UAGDSPTM','','Profilo','Gestione del profilo dell\'utente','utenti_profilo',1,1,''),(3,3,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','NUAGDSPTM','','Note&nbsp;legali','Mostra le note legali','info_noteLegali',1,1,''),(4,3,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','NUAGDSPTM','','Privacy','Mostra l\'informativa sulla privacy','info_privacy',2,1,''),(5,3,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','NUAGDSPTM','','Cookie','Mostra l\'informativa sui cookie','info_cookie',3,1,''),(6,3,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','NUAGDSPTM','','Credits','Mostra i credits','info_credits',4,1,''),(7,4,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','N','','Accesso','Accedi al registro','login_form',1,1,''),(8,4,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','N','','Recupero&nbsp;Password','Recupera la password di accesso tramite la posta elettronica','login_recovery',2,1,''),(9,4,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','N','','App&nbsp;e&nbsp;Servizi','Informazioni su app e servizi disponibili','app_info',3,1,''),(10,4,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','UAGDSPTM','','Home','Pagina principale','login_home',10,1,''),(11,4,5,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Sistema','Gestione generale del sistema','',20,1,'cog'),(12,4,6,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Scuola','Configurazione dei dati della scuola','',21,1,'school'),(13,4,7,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','ATA','Gestione del personale ATA','',22,1,'user-tie'),(14,4,8,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Docenti','Gestione dei docenti','',23,1,'user-graduate'),(15,4,9,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Alunni','Gestione degli alunni','',24,1,'child'),(16,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Parametri','Configura i parametri dell\'applicazione','sistema_parametri',1,1,''),(17,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Banner','Visualizza un banner sulle pagine principali','sistema_banner',2,1,''),(18,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Manutenzione','Imposta la modalit&agrave; di manutenzione','sistema_manutenzione',3,1,''),(19,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Archiviazione','Archivia i registri e i documenti delle classi','sistema_archivia',4,1,''),(20,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Nuovo&nbsp;A.S.','Effettua il passaggio al nuovo Anno Scolastico','sistema_nuovo',5,1,''),(21,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Aggiornamento','Cerca nuovi aggiornamenti e installa la nuova versione','sistema_aggiorna',6,1,''),(22,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Configura&nbsp;email','Configura il server per l\'invio della posta elettronica','sistema_email',7,1,''),(23,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Configura&nbsp;Telegram','Configura le notifiche tramite Telegram','sistema_telegram',8,1,''),(24,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','__SEPARATORE__','__SEPARATORE__','',10,1,''),(25,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Alias','Assumi l\'identit&agrave; di un altro utente','sistema_alias',11,1,''),(26,5,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Password','Cambia la password di un utente','sistema_password',12,1,''),(27,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Amministratore','Configura i dati dell\'amministratore','scuola_amministratore',1,1,''),(28,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Dirigente&nbsp;scolastico','Configura i dati del dirigente scolastico','scuola_dirigente',2,1,''),(29,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Istituto','Configura i dati dell\'Istituto','scuola_istituto',3,1,''),(30,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Sedi','Configura i dati delle sedi scolastiche','scuola_sedi',4,1,''),(31,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Corsi','Configura i corsi di studio','scuola_corsi',5,1,''),(32,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Materie','Configura le materie scolastiche','scuola_materie',6,1,''),(33,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Classi','Configura le classi','scuola_classi',7,1,''),(34,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Festivit&agrave;','Configura il calendario delle festivit&agrave;','scuola_festivita',8,1,''),(35,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Orario','Configura la scansione oraria delle lezioni','scuola_orario',9,1,''),(36,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Scrutini','Configura gli scrutini','scuola_scrutini',10,1,''),(37,6,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Moduli&nbsp;di&nbsp;richiesta','Configura i dati dei moduli di richiesta','scuola_moduli',11,1,''),(38,7,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Importa','Importa da file i dati del personale ATA','ata_importa',1,1,''),(39,7,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Modifica','Modifica i dati del personale ATA','ata_modifica',2,1,''),(40,7,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Rappresentanti&nbsp;ATA','Configura i rappresentanti del personale ATA','ata_rappresentanti',3,1,''),(41,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Importa','Importa da file i dati dei docenti','docenti_importa',1,1,''),(42,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Modifica','Modifica i dati dei docenti','docenti_modifica',2,1,''),(43,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Cattedre','Configura le cattedre dei docenti','docenti_cattedre',3,1,''),(44,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Staff','Configura i componenti dello staff della dirigenza','docenti_staff',4,1,''),(45,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Coordinatori','Configura i coordinatori del Consiglio di Classe','docenti_coordinatori',5,1,''),(46,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Segretari','Configura i segretari del Consiglio di Classe','docenti_segretari',6,1,''),(47,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Responsabili&nbsp;BES','Configura i responsabili BES','docenti_responsabiliBes',7,1,''),(48,8,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Rappresentanti&nbsp;Docenti','Configura i rappresentanti dei docenti','docenti_rappresentanti',8,1,''),(49,9,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Importa','Importa da file i dati degli alunni','alunni_importa',1,1,''),(50,9,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Modifica','Modifica i dati degli alunni','alunni_modifica',2,1,''),(51,9,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Cambio&nbsp;classe','Configura il cambio di classe degli alunni','alunni_classe',3,1,''),(52,9,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Rappresentanti&nbsp;alunni','Configura i rappresentanti degli alunni','alunni_rappresentanti',4,1,''),(53,9,NULL,'2023-03-16 13:28:10','2023-03-16 13:28:10','M','','Rappresentanti&nbsp;genitori','Configura i rappresentanti dei genitori','alunni_rappresentantiGenitori',5,1,'');", ""],
  ],
  'envDelete' => [
    "INSTALLATION_PSW",
  ]
];
